<html>
<head>
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 800px; margin: 0 auto; padding: 20px; }
    h1 { color: #2c3e50; border-bottom: 1px solid #eee; padding-bottom: 10px; }
    h2 { color: #3498db; margin-top: 30px; }
    .header { background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
    .footer { background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin-top: 30px; font-size: 12px; color: #777; }
    .content { padding: 0 15px; }
    pre { background-color: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; }
    .alert { padding: 15px; margin-bottom: 20px; border-radius: 5px; }
    .alert-info { background-color: #d1ecf1; color: #0c5460; }
    .alert-warning { background-color: #fff3cd; color: #856404; }
    .alert-danger { background-color: #f8d7da; color: #721c24; }
  </style>
</head>
<body>
  <div class="header">
    <h1>{{if hasVar .Variables "emailTitle"}}{{.Variables.emailTitle}}{{else}}AI Response: {{.PromptName}}{{end}}</h1>
    <p><strong>Model:</strong> {{.Model}}</p>
    <p><strong>Time:</strong> {{.Timestamp.Format "Jan 02, 2006 15:04:05"}}</p>
    {{if hasVar .Variables "recipient"}}<p><strong>To:</strong> {{.Variables.recipient}}</p>{{end}}
  </div>
  
  <div class="content">
    {{block "main_content" .}}
    {{.Content}}
    {{end}}
  </div>
  
  <div class="footer">
    <p>Generated by CronAI on {{.Timestamp.Format "Monday, January 2, 2006"}}</p>
    {{if hasVar .Variables "version"}}<p>Version: {{.Variables.version}}</p>{{end}}
  </div>
</body>
</html>